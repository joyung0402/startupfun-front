import{A as F,_ as M}from"./MainFooter-DacPvMzF.js";import{S as C,a as E,i as k,o as A,b as B,d as e,w as t,n as l,aG as R,e as a,aE as u,V as U,l as q,F as N,aD as T}from"./index-BKZHNWHs.js";import{c as $,a as m,e as j,u as D,b as d}from"./vee-validate.esm-CdyvAUnP.js";import{v as b}from"./index-DcBOdE6S.js";import{V}from"./VRow-C-7Xz0Gv.js";import{V as n}from"./VCol-B0tYhKlf.js";import{V as G}from"./VDivider-BIs3r-G9.js";import{V as O}from"./VForm-1GUDIreE.js";import{V as P}from"./VContainer-6iVz6vnc.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./logo-CyTPLdG_.js";const I=l("div",{class:"bannertitle","data-aos":"fade-in"},[l("h1",{class:"bannertitle1"},"註冊"),l("h1",{class:"bannertitle2"},"REGISTER")],-1),z={id:"rsbg"},H=l("h1",{class:"text-center"},"註冊",-1),J={class:"text-center"},re={__name:"register",setup(K){C(()=>{F.init({duration:1e3,easing:"ease-in-out",once:!0})});const{api:w}=T(),h=E(),v=k(),x=$({account:m().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",r=>b.isAlphanumeric(r)),email:m().required("使用者信箱必填").test("isEmail","使用者信箱格式錯誤",r=>b.isEmail(r)),password:m().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符"),passwordConfirm:m().oneOf([j("password")],"密碼不一致")}),{handleSubmit:y,isSubmitting:_}=D({validationSchema:x}),c=d("account"),p=d("email"),f=d("password"),g=d("passwordConfirm"),S=y(async r=>{var o,i;try{await w.post("/user",{account:r.account,email:r.email,password:r.password}),v({text:"註冊成功",snackbarProps:{color:"green"}}),h.push("/login")}catch(s){console.log(s),v({text:((i=(o=s==null?void 0:s.response)==null?void 0:o.data)==null?void 0:i.message)||"發生錯誤",snackbarProps:{color:"red"}})}});return(r,o)=>{const i=M;return A(),B(N,null,[e(n,{cols:"12",sm:"12",class:"rgbnimg"},{default:t(()=>[e(V,{justify:"center"},{default:t(()=>[e(n,{cols:"12",sm:"10"},{default:t(()=>[I]),_:1})]),_:1})]),_:1}),l("div",z,[e(P,null,{default:t(()=>[e(V,{justify:"center"},{default:t(()=>[e(n,{cols:"10",md:"4",class:"registercard my-16","data-aos":"fade-up"},{default:t(()=>[e(V,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[H]),_:1}),e(G),e(n,{cols:"12"},{default:t(()=>[e(O,{onSubmit:R(a(S),["prevent"]),disabled:a(_)},{default:t(()=>[e(u,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:a(c).value.value,"onUpdate:modelValue":o[0]||(o[0]=s=>a(c).value.value=s),"error-messages":a(c).errorMessage.value},null,8,["modelValue","error-messages"]),e(u,{label:"信箱",type:"email",modelValue:a(p).value.value,"onUpdate:modelValue":o[1]||(o[1]=s=>a(p).value.value=s),"error-messages":a(p).errorMessage.value},null,8,["modelValue","error-messages"]),e(u,{label:"密碼",type:"password",minlength:"4",maxlength:"20",counter:"",modelValue:a(f).value.value,"onUpdate:modelValue":o[2]||(o[2]=s=>a(f).value.value=s),"error-messages":a(f).errorMessage.value},null,8,["modelValue","error-messages"]),e(u,{label:"確認密碼",type:"password",minlength:"4",maxlength:"20",counter:"",modelValue:a(g).value.value,"onUpdate:modelValue":o[3]||(o[3]=s=>a(g).value.value=s),"error-messages":a(g).errorMessage.value},null,8,["modelValue","error-messages"]),l("div",J,[e(U,{class:"loginbtn",type:"submit",color:"#ffbc05",loading:a(_)},{default:t(()=>[q("註冊")]),_:1},8,["loading"])])]),_:1},8,["onSubmit","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(i)],64)}}};export{re as default};
