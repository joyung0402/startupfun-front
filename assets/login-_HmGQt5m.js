import{A as w,_ as S}from"./MainFooter-TnlIW34Y.js";import{S as F,a as y,u as k,i as M,o as A,b as B,d as e,w as a,n as o,e as s,aG as N,aE as p,V as C,l as U,F as j}from"./index-CJIryuEY.js";import{c as q,a as f,u as E,b as _}from"./vee-validate.esm-DBTSLWo7.js";import{v as G}from"./index-DcBOdE6S.js";import{V as c}from"./VRow-Cm-OzHcm.js";import{V as r}from"./VCol-CH1kqGKY.js";import{V as O}from"./VDivider-CyQ4ejSK.js";import{V as P}from"./VForm-CHfxrsjM.js";import{V as R}from"./VContainer-BiFoakOL.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./logo-CyTPLdG_.js";const T=o("div",{class:"bannertitle","data-aos":"fade-in"},[o("h1",{class:"bannertitle1"},"登入"),o("h1",{class:"bannertitle2"},"LOGIN")],-1),$={id:"lgbg"},D=o("h1",{class:"text-center"},"登入",-1),I={class:"text-center"},se={__name:"login",setup(L){F(()=>{w.init({duration:1e3,easing:"ease-in-out",once:!0})});const g=y(),b=k(),m=M(),V=q({account:f().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",l=>G.isAlphanumeric(l)),password:f().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:v,isSubmitting:d}=E({validationSchema:V}),n=_("account"),i=_("password"),h=v(async l=>{const t=await b.login(l);t==="登入成功"?(m({text:t,snackbarProps:{color:"green"}}),g.push("admin")):m({text:t,snackbarProps:{color:"red"}})});return(l,t)=>{const x=S;return A(),B(j,null,[e(r,{cols:"12",sm:"12",class:"lgbnimg"},{default:a(()=>[e(c,{justify:"center"},{default:a(()=>[e(r,{cols:"12",sm:"10"},{default:a(()=>[T]),_:1})]),_:1})]),_:1}),o("div",$,[e(R,null,{default:a(()=>[e(c,{justify:"center"},{default:a(()=>[e(r,{cols:"10",md:"4",class:"logincard my-16","data-aos":"fade-up"},{default:a(()=>[e(c,null,{default:a(()=>[e(r,{cols:"12"},{default:a(()=>[D]),_:1}),e(O),e(r,{cols:"12"},{default:a(()=>[e(P,{disabled:s(d),onSubmit:N(s(h),["prevent"])},{default:a(()=>[e(p,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:s(n).value.value,"onUpdate:modelValue":t[0]||(t[0]=u=>s(n).value.value=u),"error-messages":s(n).errorMessage.value},null,8,["modelValue","error-messages"]),e(p,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:"password",modelValue:s(i).value.value,"onUpdate:modelValue":t[1]||(t[1]=u=>s(i).value.value=u),"error-messages":s(i).errorMessage.value},null,8,["modelValue","error-messages"]),o("div",I,[e(C,{class:"loginbtn",type:"submit",color:"#ffbc05",loading:s(d)},{default:a(()=>[U("登入")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),e(x)],64)}}};export{se as default};
