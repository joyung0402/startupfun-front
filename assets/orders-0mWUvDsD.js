import{i as k,k as y,o as l,g as V,w as r,d as s,n as d,b as c,f as h,F as b,t as n,aD as g}from"./index-BgYyoOSo.js";import{b as u}from"./route-block-B_A1xBdJ.js";import{V as m}from"./VCol-BeUjF-ho.js";import{V as v}from"./VDivider-DMI6WQQv.js";import{V as w}from"./VDataTable-CQUkNi6i.js";import{V as x}from"./VRow-UjJ4b9oo.js";import{V as D}from"./VContainer-Cn_55onv.js";import"./VPagination-Bm8XJ65B.js";import"./filter-6Xf8Migl.js";import"./VList-CI_ozs66.js";import"./ssrBoot-BUHK7R1U.js";const A=d("h1",{class:"text-center"},"訂單管理",-1),B={__name:"orders",setup(C){const{apiAuth:p}=g(),f=k(),i=y([]),_=[{title:"編號",key:"_id"},{title:"帳號",key:"user.account"},{title:"日期",key:"createdAt",value:e=>new Date(e.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"price",value:e=>e.cart.reduce((a,t)=>a+t.quantity*t.p_id.price,0)}];return(async()=>{var e,a;try{const{data:t}=await p.get("/order/all");i.value.push(...t.result)}catch(t){console.log(t),f({text:((a=(e=t==null?void 0:t.response)==null?void 0:e.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}})(),(e,a)=>(l(),V(D,null,{default:r(()=>[s(x,null,{default:r(()=>[s(m,{cols:"12"},{default:r(()=>[A]),_:1}),s(v),s(m,{cols:"12"},{default:r(()=>[s(w,{items:i.value,headers:_},{"item.cart":r(t=>[d("ul",null,[(l(!0),c(b,null,h(t.item.cart,o=>(l(),c("li",{key:o._id},n(o.p_id.name)+" * "+n(o.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};typeof u=="function"&&u(B);export{B as default};
