import{_ as y}from"./logo-CyTPLdG_.js";import{j as h,u as b,i as L,k as B,c as C,r as N,o as e,b as l,e as a,g as n,w as r,d as s,F as c,f as w,h as i,V as p,m as A,l as V,t as S,n as D}from"./index-D49ttfMf.js";import{V as I,a as _}from"./VList-B7OCJeH1.js";import{V as k,a as F,b as U}from"./VBadge-DvaYuYcN.js";import{V as j,a as E}from"./VNavigationDrawer-BpY8JpyD.js";import{V as M}from"./VContainer-D1vfCv01.js";import"./ssrBoot-4qnIk0jW.js";import"./VDivider-B1VZQJT2.js";const P=D("img",{id:"suflogo",src:y},null,-1),R={__name:"default",setup(T){const{mobile:m}=h(),o=b(),x=L(),d=B(!1),f=C(()=>[{to:"/",text:"首頁",show:!0},{to:"/aboutus",text:"關於我們",show:!0},{to:"/news",text:"活動快訊",show:!0},{to:"/stores",text:"合作商家",show:!0},{to:"/contactus",text:"聯絡我們",show:!0},{to:"/register",text:"註冊",icon:"mdi-account-plus",show:!o.isLogin},{to:"/login",text:"登入",icon:"mdi-account-arrow-left",show:!o.isLogin},{to:"/admin",text:"管理",icon:"mdi-cog",show:o.isLogin&&o.isAdmin},{to:"/member",text:"使用者",icon:"mdi-cog",show:o.isLogin&&!o.isAdmin}]),g=async()=>{await o.logout(),x({text:"登出成功",snackbarProps:{color:"green"}})};return($,u)=>{const v=N("router-view");return e(),l(c,null,[a(m)?(e(),n(j,{key:0,modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=t=>d.value=t)},{default:r(()=>[s(I,{nav:""},{default:r(()=>[(e(!0),l(c,null,w(f.value,t=>(e(),l(c,{key:t.to},[t.show?(e(),n(_,{key:0,"prepend-icon":t.icon,to:t.to,title:t.text},{append:r(()=>[t.to==="/cart"&&a(o).cart>0?(e(),n(k,{key:0,color:"error",content:a(o).cart,inline:""},null,8,["content"])):i("",!0)]),_:2},1032,["prepend-icon","to","title"])):i("",!0)],64))),128)),a(o).isLogin?(e(),n(_,{key:0,"prepend-icon":"mdi-account-arrow-right",title:"登出",onClick:g})):i("",!0)]),_:1})]),_:1},8,["modelValue"])):i("",!0),s(U,null,{default:r(()=>[s(M,{class:"d-flex align-center"},{default:r(()=>[s(p,{class:"menubtn",to:"/",active:!1},{default:r(()=>[P]),_:1}),s(A),a(m)?(e(),n(F,{key:0,onClick:u[1]||(u[1]=t=>d.value=!0)})):(e(),l(c,{key:1},[(e(!0),l(c,null,w(f.value,t=>(e(),l(c,{key:t.to},[t.show?(e(),n(p,{key:0,"prepend-icon":t.icon,to:t.to,class:"menubtn"},{default:r(()=>[V(S(t.text)+" ",1),t.to==="/cart"&&a(o).cart>0?(e(),n(k,{key:0,color:"red",content:a(o).cart,floating:""},null,8,["content"])):i("",!0)]),_:2},1032,["prepend-icon","to"])):i("",!0)],64))),128)),a(o).isLogin?(e(),n(p,{key:0,"prepend-icon":"mdi-account-arrow-right",onClick:g},{default:r(()=>[V("登出")]),_:1})):i("",!0)],64))]),_:1})]),_:1}),s(E,null,{default:r(()=>[s(v)]),_:1})],64)}}};export{R as default};
