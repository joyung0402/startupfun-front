import{i as f,k as V,o as l,g as k,w as r,d as s,n as m,b as c,f as y,F as h,t as n,aD as g}from"./index-CmJadPDl.js";import{V as d}from"./VCol-BUQAuWn8.js";import{V as b}from"./VDivider-LicMTt7F.js";import{V as v}from"./VDataTable-KY4mXMI2.js";import{V as w}from"./VRow-jzL5bc5y.js";import{V as x}from"./VContainer-BFHn-Tp3.js";import"./VPagination-BcAO8WvF.js";import"./filter-CnmkilbY.js";import"./VList-Bbvsfx-h.js";import"./ssrBoot-D60D3hFq.js";const D=m("h1",{class:"text-center"},"訂單查詢",-1),T={__name:"orders",setup(A){const{apiAuth:u}=g(),p=f(),i=V([]),_=[{title:"編號",key:"_id"},{title:"日期",key:"createdAt",value:t=>new Date(t.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"金額",key:"price",value:t=>t.cart.reduce((a,e)=>a+e.quantity*e.p_id.price,0)}];return(async()=>{var t,a;try{const{data:e}=await u.get("/order");i.value.push(...e.result)}catch(e){console.log(e),p({text:((a=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:a.message)||"發生錯誤",snackbarProps:{color:"red"}})}})(),(t,a)=>(l(),k(x,null,{default:r(()=>[s(w,null,{default:r(()=>[s(d,{cols:"12"},{default:r(()=>[D]),_:1}),s(b),s(d,{cols:"12"},{default:r(()=>[s(v,{items:i.value,headers:_},{"item.cart":r(e=>[m("ul",null,[(l(!0),c(h,null,y(e.item.cart,o=>(l(),c("li",{key:o._id},n(o.p_id.name)+" * "+n(o.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};export{T as default};
